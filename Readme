
Peticiones API Akima

#------------------------------------Registro de usuarios--------------------------------------------- 
curl -X POST http://localhost:3000/api/auth/register -H "Content-Type: application/json" -d '{
  "Nombre": "Juan Flores",
  "Correo": "juan@test.com",
  "Passwd": "test123"
}'
Al crear un cuenta esta esta desactivada por defecto, solo un administrador o un usuario con el permiso edit.user puede activarla
#------------------------------------Fin Registro de usuarios--------------------------------------------- 

#--------------------------Login -----------------------------------------------------------------------------
curl -X POST http://localhost:3000/api/auth/login -H "Content-Type: application/json" -d '{ "Correo": "juan@test.com", "Passwd": "test123"}'

Tenemos los estados dentro de la tabla de users Estado bolean si es True permite el acceso , el JWT contine la infromacion si es admin o no  
JWT con duracion de 12 horas
{
  "userId": 1,
  "nombre": "Juan",
  "correo": "juan@test.com",
  "isAdmin": true,
  "iat": 1670250000,    // Issued at (cuándo se creó)
  "exp": 1670293200     // Expires (cuándo expira)
}
#--------------------------FIN Login -----------------------------------------------------------------------------

#MODIFICACION(UPDATE INFO)

#--------------Users---------------------------------------------------------
curl -X PUT http://localhost:3000/api/users/9 -H "Content-Type: application/json" -H "Authorization: Bearer <TU_TOKEN_AQUI>" -d '{"Estado": true}'

Solo pueden modificar datos los admini y lo que tengan el permiso edit.user, y editar su propia configuracion los que tengan el permiso edit.own.profile
#--------------Fin Users---------------------------------------------------------

#DELETE 

Para eliminar datos 
# Ejemplo: Eliminar al usuario con ID 10

#--------------Users---------------------------------------------------------

curl -X DELETE http://localhost:3000/api/users/ID -H "Content-Type: application/json" -H "Authorization: Bearer TU_TOKEN_AQUI>"

solo pueden eliminar usuarios los admin y los que tengan el permiso de delete.users

#--------------Fin Users---------------------------------------------------------